<!DOCTYPE html>
<html lang="pt-br">
<head>

    <meta charset="utf-8">
    <title>Tudo</title>
    <link rel="stylesheet" href="style.css" >
    <script>

        let valores
        let table = document.createElement("table")

        {
                let linha = document.createElement("tr")
            let id = document.createElement("td")
            let title = document.createElement("td")
            let conteudo = document.createElement("td")

            let text_id = document.createTextNode("ID")
            let text_title = document.createTextNode("Título")
            let text_conteudo = document.createTextNode("Estado")
        
            id.appendChild(text_id)
            title.appendChild(text_title)
            conteudo.appendChild(text_conteudo)
            linha.appendChild(id)
            linha.appendChild(title)
            linha.appendChild(conteudo)

            table.appendChild(linha)
            }

        function criarlinha(i) {
            let linha = document.createElement("tr")
            let id = document.createElement("td")
            let title = document.createElement("td")
            let conteudo = document.createElement("td")

            let text_id = document.createTextNode(valores[i].id)
            let text_title = document.createTextNode(valores[i].title)
            let text_conteudo = document.createTextNode(teste(valores[i].completed))
        
            id.appendChild(text_id)
            title.appendChild(text_title)
            conteudo.appendChild(text_conteudo)
            linha.appendChild(id)
            linha.appendChild(title)
            linha.appendChild(conteudo)

            table.appendChild(linha)
        }

        function iniciar() {
            
            document.body.appendChild(table)
            for (i in valores) {criarlinha(i)}      
            let elem = document.getElementById('botao');
            elem.parentNode.removeChild(elem);
            
        }

        function teste(value) {
            if (value)
                {return "Completo!"}
            else
               {return "Incompleto"}
        }

        fetch('https://jsonplaceholder.typicode.com/todos/')
        .then((response) => response.json())
        .then((json) => valores = json);
        
    </script>
</head>

<body>

    <header>
        <a href="index.html" style="text-decoration: none;"><h1>Desafio Framework</h1></a>
    </header>   

    <nav>
        <a href="index.html">Página Inicial</a>
    </nav>

    <h1 id="titulo">Tabela de tudo</h1>
    <a onclick="iniciar();" id="botao">Clique para exibir a tabela</a>
    
</body>
